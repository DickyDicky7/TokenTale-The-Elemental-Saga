[gd_resource type="BehaviorTree" load_steps=25 format=3 uid="uid://do56smytaorys"]

[ext_resource type="BlackboardPlan" uid="uid://15j118xma3cw" path="res://game_objects/characters/others/the_tanker/minotaur/Minotaur_BlackboardPlan----.tres" id="1_o2fpt"]
[ext_resource type="Script" path="res://ai/tasks/beingHit.gd" id="2_7lxn4"]
[ext_resource type="Script" path="res://ai/tasks/depleteHealth.gd" id="3_37qwr"]
[ext_resource type="BBNode" uid="uid://bxkxh7iuqvww5" path="res://game_objects/characters/others/the_tanker/minotaur/Minotaur_BBNode_AnimationPlayer.tres" id="3_m0cec"]
[ext_resource type="Script" path="res://ai/tasks/detectCharacter.gd" id="4_4n3if"]
[ext_resource type="Script" path="res://ai/tasks/watchingAround.gd" id="5_vwugo"]
[ext_resource type="Script" path="res://ai/tasks/changeSeeingDirection.gd" id="6_0crq4"]

[sub_resource type="BTAction" id="BTAction_n7fdv"]
script = ExtResource("2_7lxn4")
PathHurtBox3D = NodePath("HurtBox3D")

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_ur4wb"]
await_completion = 1.0
animation_player = ExtResource("3_m0cec")
animation_name = &"HURT_1"

[sub_resource type="BTSequence" id="BTSequence_87gs1"]
custom_name = "TakeDamage"
children = [SubResource("BTAction_n7fdv"), SubResource("BTPlayAnimation_ur4wb")]

[sub_resource type="BTAction" id="BTAction_wop7j"]
script = ExtResource("3_37qwr")

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_1x7v1"]
await_completion = 1.0
animation_player = ExtResource("3_m0cec")
animation_name = &"DEAD"

[sub_resource type="BTSequence" id="BTSequence_y6uii"]
custom_name = "Dead"
children = [SubResource("BTAction_wop7j"), SubResource("BTPlayAnimation_1x7v1")]

[sub_resource type="BTAction" id="BTAction_yg755"]
script = ExtResource("4_4n3if")
TargetCharacter3DName = &"MainCharacter"
PathShapeCast3D = NodePath("ShapeCast3D")
PathRayCast3D = NodePath("Ray__Cast3D")
PathEyeSight = NodePath("EyeSight$3D")

[sub_resource type="BTInvert" id="BTInvert_qe2pc"]
custom_name = "NotDectectCharacter"
children = [SubResource("BTAction_yg755")]

[sub_resource type="BTAction" id="BTAction_3khao"]
script = ExtResource("5_vwugo")

[sub_resource type="BTCooldown" id="BTCooldown_mcarp"]
duration = 2.0
children = [SubResource("BTAction_3khao")]

[sub_resource type="BTAction" id="BTAction_cavwe"]
script = ExtResource("6_0crq4")
PathFlipSprite3D = NodePath("Flippable3DSpriteBase3DConsolidation")
PathEyeSight = NodePath("EyeSight$3D")

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_yp7kg"]
animation_player = ExtResource("3_m0cec")
animation_name = &"IDLE"

[sub_resource type="BTSequence" id="BTSequence_f1dxg"]
custom_name = "Patroll"
children = [SubResource("BTInvert_qe2pc"), SubResource("BTCooldown_mcarp"), SubResource("BTAction_cavwe"), SubResource("BTPlayAnimation_yp7kg")]

[sub_resource type="BTAction" id="BTAction_m7g6f"]
script = ExtResource("4_4n3if")
TargetCharacter3DName = &"MainCharacter"
PathShapeCast3D = NodePath("ShapeCast3D")
PathRayCast3D = NodePath("Ray__Cast3D")
PathEyeSight = NodePath("EyeSight$3D")

[sub_resource type="BTAction" id="BTAction_qm2ei"]
script = ExtResource("6_0crq4")
PathFlipSprite3D = NodePath("Flippable3DSpriteBase3DConsolidation")
PathEyeSight = NodePath("EyeSight$3D")

[sub_resource type="BTSequence" id="BTSequence_y3tqe"]
custom_name = "Act"
children = [SubResource("BTAction_m7g6f"), SubResource("BTAction_qm2ei")]

[sub_resource type="BTSelector" id="BTSelector_j2btc"]
custom_name = "Root"
children = [SubResource("BTSequence_87gs1"), SubResource("BTSequence_y6uii"), SubResource("BTSequence_f1dxg"), SubResource("BTSequence_y3tqe")]

[resource]
blackboard_plan = ExtResource("1_o2fpt")
root_task = SubResource("BTSelector_j2btc")
